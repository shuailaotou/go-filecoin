package fastutil

import (
	"github.com/filecoin-project/go-filecoin/tools/fast"
	"io"
)

// ShellWithInterval starts a shell and returns all logs produced
func ShellWithInterval(node *fast.Filecoin) (io.Reader, error) {
	interval, err := node.StartLogCapture()
	if err != nil {
		return nil, err
	}

	defer interval.Stop()

	if err := node.Shell(); err != nil {
		return nil, err
	}

	return interval, nil
}
